# Object life cycle
- An object is first constructed, then can go through a number of operations until is destroyed
- These operations are strictly related, with slight differences in the semantic
- Almost all the operations that regard the object life cycle can be automatically generated by the compiler

## Life-cycle operations
```c++
class X {
	X(someargs);
	X(); //default constructor
	X(const X&); //Copy constructor
	X(X&&); //Move constructor
	X& operator = (const &X); //Copy Assignment
	X& operator = (X&&); //Move assignment
	~X(); //Destructor, to clean up
}
```

- `a` is a copy of `b` is
$$
f(a)=f(b) \space \forall f
$$
$$
f(a) \space \text{does not affect b} \space \forall f
$$
- Initializing in order of declaration for faster compilation;

## Constructor
- invariants need to be maintained also when copying & moving, not just when creating an object from scratch;
- If the constructor cannot enforce the invariants, it must not create the object;

## Destructor - RAII
- ~ (“complement”) followed by the name of the class (e.g., for class X -> ~X)
- It does not accept arguments – only one destructor per class
- A destructor is guaranteed to be invoked when an object is destroyed, to clean up and release resources

- Resource Acquisition is Initialization (RAII) paradigm is a constructor/destructor-based resource management

